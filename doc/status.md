# Отчет о состоянии проекта "Виртуальный помощник ПЭК"

## Цель проекта

Цель проекта заключается в создании виртуального помощника для корпоративной базы знаний компании ПЭК, который бы обрабатывал запросы сотрудников и предоставлял информацию из документации компании.

## Этап 1: Подготовка данных

### Сбор и очистка данных
- Для сбора данных использовался модуль `DirectoryLoader` для загрузки корпоративной документации в формате HTML.
- Для очистки и предобработки текста был разработан парсер, использующий библиотеку spaCy для удаления стоп-слов, пунктуации и ненужных метаданных.

## Этап 2: Создание и настройка модели

### Разделение текста на чанки
- Для разделения документов на чанки был использован модуль `RecursiveCharacterTextSplitter`.

### Создание эмбеддингов
- Для генерации эмбеддингов текста была использована модель `intfloat/multilingual-e5-large`.

### Построение базы данных
- Создание и кэширование базы данных FAISS для быстрого поиска по текстовым эмбеддингам.

### Подключение LLM
- Подключение LLM и создание цепочек. Использована модель `saiga_mistral_7b.Q4_K_M.gguf`

## Этап 3: Разработка телеграм-бота

### Настройка окружения
- Создание и настройка бота в Telegram для обработки запросов пользователей.
- Реализация функции загрузки файлов HTML через бота.

### Реализация логики бота
- Обработка текстовых запросов пользователей и отправка ответов, используя базу знаний.
- Функция обработки загрузки документов и их сохранение для расширения базы знаний.

## Этап 4: Тестирование и отладка

### Тестирование функциональности
- Планируется проверка корректности работы всех компонентов (очистка данных, создание эмбеддингов, работа бота).

### Отладка
- Проводится отладка для исправления возможных ошибок и оптимизации производительности.

## Этап 5: Развертывание и документация

### Развертывание проекта
- После завершения всех этапов разработки планируется развертывание сервера и бота на продакшн среде.

### Создание документации
- Написание README с инструкциями по установке и запуску, описание структуры проекта и лицензии.

## Технические подробности реализации

- Для сбора и очистки данных был использован парсер, использующий библиотеку spaCy для обработки текста.
- Создание и кэширование базы данных FAISS для быстрого поиска по текстовым эмбеддингам.
- Для разработки телеграм-бота использовались библиотеки `python-telegram-bot` и `dotenv`.
- Реализация логики бота включала обработку текстовых запросов, загрузку файлов и формирование ответов на основе базы знаний.
- При наличии GPU происходит автоматическое переключение на него для ускорения обработки запросов.
- Масштабирование на все доступные графические ядра позволяет увеличить производительность и обработать больший объем данных.


